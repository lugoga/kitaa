<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Masumbuko Semba">
<meta name="dcterms.date" content="2024-01-24">
<meta name="description" content="Data Science-R Basic">

<title>DATIKA - The basics of R programming</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=<Insert your ID here>"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '<Insert your ID here>', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta name="twitter:title" content="DATIKA - The basics of R programming">
<meta name="twitter:description" content="Data Science-R Basic">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1634128221889-82ed6efebfc3?ixlib=rb-1.2.1&amp;q=80&amp;cs=tinysrgb&amp;fm=jpg&amp;crop=entropy&amp;w=3600">
<meta name="twitter:creator" content="@semba2024">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DATIKA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../slides.html"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../books.html"> 
<span class="menu-text">Books</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../data.html"> 
<span class="menu-text">Datasets</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../photos.html"> 
<span class="menu-text">Gallery</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lugoga/kitaa"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ressources" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Ressources</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-ressources">    
        <li>
    <a class="dropdown-item" href="https://semba-blog.netlify.app/">
 <span class="dropdown-text">Semba blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://lugoga.github.io/semba-quarto/">
 <span class="dropdown-text">Semba website</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://nyamisi.github.io/nyamisi/blog.html">
 <span class="dropdown-text">Nyamisi blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rweekly.org/">
 <span class="dropdown-text">R Weekly</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.r-bloggers.com/">
 <span class="dropdown-text">R Bloggers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../archive.html"> 
<span class="menu-text">Archive</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The basics of R programming</h1>
                  <div>
        <div class="description">
          Data Science-R Basic
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Data Science</div>
                <div class="quarto-category">R Basic</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://semba.netlify.app">Masumbuko Semba</a> <a href="https://orcid.org/0000-0002-5002-9747" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://semba.netlify.app/">
              Nelson Mandela African Institution of Science and Technology
              </a>
            </p>
        </div>
    </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 24, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#r-basics-functions-and-data-types" id="toc-r-basics-functions-and-data-types" class="nav-link active" data-scroll-target="#r-basics-functions-and-data-types">R Basics, Functions, and Data Types</a>
  <ul class="collapse">
  <li><a href="#installing-r" id="toc-installing-r" class="nav-link" data-scroll-target="#installing-r">Installing R</a>
  <ul class="collapse">
  <li><a href="#why-install-r-and-rstudio" id="toc-why-install-r-and-rstudio" class="nav-link" data-scroll-target="#why-install-r-and-rstudio">why Install R and RStudio?</a></li>
  <li><a href="#key-points" id="toc-key-points" class="nav-link" data-scroll-target="#key-points">Key Points</a></li>
  </ul></li>
  <li><a href="#installing-rstudio" id="toc-installing-rstudio" class="nav-link" data-scroll-target="#installing-rstudio">Installing Rstudio</a>
  <ul class="collapse">
  <li><a href="#key-points-1" id="toc-key-points-1" class="nav-link" data-scroll-target="#key-points-1">Key Points</a></li>
  </ul></li>
  <li><a href="#using-rstudio-for-the-first-time" id="toc-using-rstudio-for-the-first-time" class="nav-link" data-scroll-target="#using-rstudio-for-the-first-time">Using RStudio for the First Time</a>
  <ul class="collapse">
  <li><a href="#key-points-2" id="toc-key-points-2" class="nav-link" data-scroll-target="#key-points-2">Key Points</a></li>
  </ul></li>
  <li><a href="#getting-started-using-r" id="toc-getting-started-using-r" class="nav-link" data-scroll-target="#getting-started-using-r">Getting Started Using R</a>
  <ul class="collapse">
  <li><a href="#key-points-3" id="toc-key-points-3" class="nav-link" data-scroll-target="#key-points-3">Key Points:</a></li>
  <li><a href="#some-addition-notes" id="toc-some-addition-notes" class="nav-link" data-scroll-target="#some-addition-notes">Some Addition Notes</a></li>
  </ul></li>
  <li><a href="#installing-packahes" id="toc-installing-packahes" class="nav-link" data-scroll-target="#installing-packahes">Installing Packahes</a>
  <ul class="collapse">
  <li><a href="#note" id="toc-note" class="nav-link" data-scroll-target="#note">Note</a></li>
  <li><a href="#key-points-4" id="toc-key-points-4" class="nav-link" data-scroll-target="#key-points-4">key points</a></li>
  <li><a href="#additional-notes" id="toc-additional-notes" class="nav-link" data-scroll-target="#additional-notes">Additional Notes</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code">Code</a></li>
  </ul></li>
  <li><a href="#running-commands-while-editing-scripts" id="toc-running-commands-while-editing-scripts" class="nav-link" data-scroll-target="#running-commands-while-editing-scripts">Running Commands While Editing Scripts</a>
  <ul class="collapse">
  <li><a href="#key-points-5" id="toc-key-points-5" class="nav-link" data-scroll-target="#key-points-5">Key Points</a></li>
  <li><a href="#code-1" id="toc-code-1" class="nav-link" data-scroll-target="#code-1">Code</a></li>
  </ul></li>
  <li><a href="#r-basics" id="toc-r-basics" class="nav-link" data-scroll-target="#r-basics">R Basics</a>
  <ul class="collapse">
  <li><a href="#key-points-6" id="toc-key-points-6" class="nav-link" data-scroll-target="#key-points-6">Key Points</a></li>
  <li><a href="#code-example-to-solving-the-equation-x2-x---1-0" id="toc-code-example-to-solving-the-equation-x2-x---1-0" class="nav-link" data-scroll-target="#code-example-to-solving-the-equation-x2-x---1-0">Code: example to solving the equation <span class="math inline">\(x^{2} + x - 1 = 0\)</span></a></li>
  </ul></li>
  <li><a href="#function" id="toc-function" class="nav-link" data-scroll-target="#function">Function</a>
  <ul class="collapse">
  <li><a href="#key-points-7" id="toc-key-points-7" class="nav-link" data-scroll-target="#key-points-7">Key Points</a></li>
  </ul></li>
  <li><a href="#data-types" id="toc-data-types" class="nav-link" data-scroll-target="#data-types">Data Types</a>
  <ul class="collapse">
  <li><a href="#key-points-8" id="toc-key-points-8" class="nav-link" data-scroll-target="#key-points-8">Key Points</a></li>
  <li><a href="#code-2" id="toc-code-2" class="nav-link" data-scroll-target="#code-2">Code</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#vectors-sorting" id="toc-vectors-sorting" class="nav-link" data-scroll-target="#vectors-sorting">Vectors, Sorting</a>
  <ul class="collapse">
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors">Vectors</a>
  <ul class="collapse">
  <li><a href="#key-points-9" id="toc-key-points-9" class="nav-link" data-scroll-target="#key-points-9">Key points</a></li>
  <li><a href="#code-3" id="toc-code-3" class="nav-link" data-scroll-target="#code-3">Code</a></li>
  </ul></li>
  <li><a href="#vector-coercion" id="toc-vector-coercion" class="nav-link" data-scroll-target="#vector-coercion">Vector Coercion</a>
  <ul class="collapse">
  <li><a href="#key-point" id="toc-key-point" class="nav-link" data-scroll-target="#key-point">Key Point</a></li>
  <li><a href="#question" id="toc-question" class="nav-link" data-scroll-target="#question">Question</a></li>
  </ul></li>
  <li><a href="#sorting" id="toc-sorting" class="nav-link" data-scroll-target="#sorting">Sorting</a>
  <ul class="collapse">
  <li><a href="#key-points-10" id="toc-key-points-10" class="nav-link" data-scroll-target="#key-points-10">Key Points</a></li>
  <li><a href="#code-4" id="toc-code-4" class="nav-link" data-scroll-target="#code-4">Code</a></li>
  </ul></li>
  <li><a href="#vector-arithmetic" id="toc-vector-arithmetic" class="nav-link" data-scroll-target="#vector-arithmetic">Vector Arithmetic</a>
  <ul class="collapse">
  <li><a href="#key-point-1" id="toc-key-point-1" class="nav-link" data-scroll-target="#key-point-1">Key Point</a></li>
  <li><a href="#code-5" id="toc-code-5" class="nav-link" data-scroll-target="#code-5">Code</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#indexing-data-wrangling-plots" id="toc-indexing-data-wrangling-plots" class="nav-link" data-scroll-target="#indexing-data-wrangling-plots">Indexing, Data Wrangling, Plots</a>
  <ul class="collapse">
  <li><a href="#indexing" id="toc-indexing" class="nav-link" data-scroll-target="#indexing">Indexing</a>
  <ul class="collapse">
  <li><a href="#key-point-2" id="toc-key-point-2" class="nav-link" data-scroll-target="#key-point-2">Key Point</a></li>
  <li><a href="#code-6" id="toc-code-6" class="nav-link" data-scroll-target="#code-6">Code</a></li>
  </ul></li>
  <li><a href="#indexing-functions" id="toc-indexing-functions" class="nav-link" data-scroll-target="#indexing-functions">Indexing Functions</a>
  <ul class="collapse">
  <li><a href="#key-points-11" id="toc-key-points-11" class="nav-link" data-scroll-target="#key-points-11">Key Points</a></li>
  <li><a href="#code-7" id="toc-code-7" class="nav-link" data-scroll-target="#code-7">Code</a></li>
  </ul></li>
  <li><a href="#basic-data-wrangling" id="toc-basic-data-wrangling" class="nav-link" data-scroll-target="#basic-data-wrangling">Basic Data Wrangling</a>
  <ul class="collapse">
  <li><a href="#key-points-12" id="toc-key-points-12" class="nav-link" data-scroll-target="#key-points-12">Key Points</a></li>
  </ul></li>
  <li><a href="#creating-data-frames" id="toc-creating-data-frames" class="nav-link" data-scroll-target="#creating-data-frames">Creating Data Frames</a>
  <ul class="collapse">
  <li><a href="#note-2" id="toc-note-2" class="nav-link" data-scroll-target="#note-2">Note</a></li>
  <li><a href="#key-points-13" id="toc-key-points-13" class="nav-link" data-scroll-target="#key-points-13">Key Points</a></li>
  <li><a href="#code-8" id="toc-code-8" class="nav-link" data-scroll-target="#code-8">Code</a></li>
  </ul></li>
  <li><a href="#basic-plots" id="toc-basic-plots" class="nav-link" data-scroll-target="#basic-plots">Basic Plots</a>
  <ul class="collapse">
  <li><a href="#key-points-14" id="toc-key-points-14" class="nav-link" data-scroll-target="#key-points-14">Key Points</a></li>
  <li><a href="#code-9" id="toc-code-9" class="nav-link" data-scroll-target="#code-9">Code</a></li>
  </ul></li>
  <li><a href="#the-summarize-function" id="toc-the-summarize-function" class="nav-link" data-scroll-target="#the-summarize-function">The summarize function</a>
  <ul class="collapse">
  <li><a href="#key-points-15" id="toc-key-points-15" class="nav-link" data-scroll-target="#key-points-15">Key Points</a></li>
  <li><a href="#code-10" id="toc-code-10" class="nav-link" data-scroll-target="#code-10">Code</a></li>
  </ul></li>
  <li><a href="#summarizing-with-more-than-one-value" id="toc-summarizing-with-more-than-one-value" class="nav-link" data-scroll-target="#summarizing-with-more-than-one-value">Summarizing with more than one value</a>
  <ul class="collapse">
  <li><a href="#key-points-16" id="toc-key-points-16" class="nav-link" data-scroll-target="#key-points-16">Key Points</a></li>
  <li><a href="#code-11" id="toc-code-11" class="nav-link" data-scroll-target="#code-11">Code</a></li>
  </ul></li>
  <li><a href="#pull-to-access-to-columns" id="toc-pull-to-access-to-columns" class="nav-link" data-scroll-target="#pull-to-access-to-columns">Pull to access to columns</a>
  <ul class="collapse">
  <li><a href="#key-points-17" id="toc-key-points-17" class="nav-link" data-scroll-target="#key-points-17">Key Points</a></li>
  <li><a href="#code-12" id="toc-code-12" class="nav-link" data-scroll-target="#code-12">Code</a></li>
  </ul></li>
  <li><a href="#the-dot-placeholder" id="toc-the-dot-placeholder" class="nav-link" data-scroll-target="#the-dot-placeholder">The dot placeholder</a>
  <ul class="collapse">
  <li><a href="#key-points-18" id="toc-key-points-18" class="nav-link" data-scroll-target="#key-points-18">Key Points</a></li>
  </ul></li>
  <li><a href="#group-then-summarize" id="toc-group-then-summarize" class="nav-link" data-scroll-target="#group-then-summarize">Group then summarize</a>
  <ul class="collapse">
  <li><a href="#key-points-19" id="toc-key-points-19" class="nav-link" data-scroll-target="#key-points-19">Key Points</a></li>
  </ul></li>
  <li><a href="#sorting-data-tables" id="toc-sorting-data-tables" class="nav-link" data-scroll-target="#sorting-data-tables">Sorting data tables</a>
  <ul class="collapse">
  <li><a href="#key-points-20" id="toc-key-points-20" class="nav-link" data-scroll-target="#key-points-20">Key Points</a></li>
  <li><a href="#code-13" id="toc-code-13" class="nav-link" data-scroll-target="#code-13">Code</a></li>
  </ul></li>
  <li><a href="#introduction-to-data.table" id="toc-introduction-to-data.table" class="nav-link" data-scroll-target="#introduction-to-data.table">Introduction to data.table</a>
  <ul class="collapse">
  <li><a href="#key-points-21" id="toc-key-points-21" class="nav-link" data-scroll-target="#key-points-21">Key Points</a></li>
  <li><a href="#code-14" id="toc-code-14" class="nav-link" data-scroll-target="#code-14">Code</a></li>
  </ul></li>
  <li><a href="#subsetting-with-data.table" id="toc-subsetting-with-data.table" class="nav-link" data-scroll-target="#subsetting-with-data.table">Subsetting with data.table</a>
  <ul class="collapse">
  <li><a href="#key-points-22" id="toc-key-points-22" class="nav-link" data-scroll-target="#key-points-22">Key Points</a></li>
  <li><a href="#code-15" id="toc-code-15" class="nav-link" data-scroll-target="#code-15">Code</a></li>
  </ul></li>
  <li><a href="#summarizing-with-data.table" id="toc-summarizing-with-data.table" class="nav-link" data-scroll-target="#summarizing-with-data.table">Summarizing with data.table</a>
  <ul class="collapse">
  <li><a href="#key-points-23" id="toc-key-points-23" class="nav-link" data-scroll-target="#key-points-23">Key Points</a></li>
  <li><a href="#code-16" id="toc-code-16" class="nav-link" data-scroll-target="#code-16">Code</a></li>
  </ul></li>
  <li><a href="#sorting-data-frames" id="toc-sorting-data-frames" class="nav-link" data-scroll-target="#sorting-data-frames">Sorting data frames</a>
  <ul class="collapse">
  <li><a href="#key-points-24" id="toc-key-points-24" class="nav-link" data-scroll-target="#key-points-24">Key Points</a></li>
  <li><a href="#code-17" id="toc-code-17" class="nav-link" data-scroll-target="#code-17">Code</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#programming-basics" id="toc-programming-basics" class="nav-link" data-scroll-target="#programming-basics">Programming Basics</a>
  <ul class="collapse">
  <li><a href="#programming-basics-1" id="toc-programming-basics-1" class="nav-link" data-scroll-target="#programming-basics-1">Programming Basics</a></li>
  <li><a href="#basic-condationals" id="toc-basic-condationals" class="nav-link" data-scroll-target="#basic-condationals">Basic Condationals</a>
  <ul class="collapse">
  <li><a href="#key-points-25" id="toc-key-points-25" class="nav-link" data-scroll-target="#key-points-25">Key Points</a></li>
  <li><a href="#code-18" id="toc-code-18" class="nav-link" data-scroll-target="#code-18">Code</a></li>
  </ul></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a>
  <ul class="collapse">
  <li><a href="#key-points-26" id="toc-key-points-26" class="nav-link" data-scroll-target="#key-points-26">Key Points</a></li>
  <li><a href="#code-19" id="toc-code-19" class="nav-link" data-scroll-target="#code-19">Code</a></li>
  </ul></li>
  <li><a href="#for-loops" id="toc-for-loops" class="nav-link" data-scroll-target="#for-loops">For Loops</a>
  <ul class="collapse">
  <li><a href="#key-points-27" id="toc-key-points-27" class="nav-link" data-scroll-target="#key-points-27">Key Points</a></li>
  <li><a href="#code-20" id="toc-code-20" class="nav-link" data-scroll-target="#code-20">Code</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="r-basics-functions-and-data-types" class="level1 page-columns page-full">
<h1>R Basics, Functions, and Data Types</h1>
<p>In this section, I will introduce you to R Basics, Functions, and Datatypes.</p>
<p>In this part, you will learn to:</p>
<ul>
<li><p>Appreciate the rationale for data analysis using R.</p></li>
<li><p>Define objects and perform basic arithmetic and logical operations.</p></li>
<li><p>Use pre-defined functions to perform operations on objects.</p></li>
<li><p>Distinguish between various data types.</p></li>
</ul>
<section id="installing-r" class="level2">
<h2 class="anchored" data-anchor-id="installing-r">Installing R</h2>
<section id="why-install-r-and-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="why-install-r-and-rstudio">why Install R and RStudio?</h3>
<ul>
<li><p>To complete this course, you should install R locally on your computer. We also highly recommend installing RStudio, an integrated development environment (IDE), to edit and test your code.</p></li>
<li><p>In order to complete some assignments in the course, you will need your own copy of R. You may also find it helpful to follow along with the course videos in R or RStudio.</p></li>
<li><p>Both R and RStudio can be freely downloaded and installed.</p></li>
</ul>
</section>
<section id="key-points" class="level3">
<h3 class="anchored" data-anchor-id="key-points">Key Points</h3>
<ul>
<li><p>You need to install R before using RStudio, which is an interactive desktop environment.</p></li>
<li><p>Select base subdirectory in <a href="https://cran.r-project.org/">CRAN</a> and click download.</p></li>
<li><p>Select all default choices in the installation process.</p></li>
<li><p>We recommend selecting English for language to help you better follow the course.</p></li>
<li><p>You can try using the R console, but for productivity purposes, we can switch to RStudio.</p></li>
</ul>
</section>
</section>
<section id="installing-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="installing-rstudio">Installing Rstudio</h2>
<section id="key-points-1" class="level3">
<h3 class="anchored" data-anchor-id="key-points-1">Key Points</h3>
<ul>
<li><p>You can download the latest version of RStudio at the <a href="https://posit.co/download/rstudio-desktop/">RStudio website</a>.</p></li>
<li><p>The free desktop version is more than enough for this course.</p></li>
<li><p>Make sure to choose the version for your own operating system.</p></li>
<li><p>Choose “Yes” for all defaults in the installation process.</p></li>
</ul>
</section>
</section>
<section id="using-rstudio-for-the-first-time" class="level2">
<h2 class="anchored" data-anchor-id="using-rstudio-for-the-first-time">Using RStudio for the First Time</h2>
<section id="key-points-2" class="level3">
<h3 class="anchored" data-anchor-id="key-points-2">Key Points</h3>
<ul>
<li><p>The free desktop version of RStudio can be launched like other applications on your computer.</p></li>
<li><p>When you start RStudio for the first time, you will see three panes. The left pane shows you the R console. On the right, the top pane includes three tabs, while the bottom pane shows you five tabs, file, plots, packages, help, and viewer.</p></li>
<li><p>You can download a cheat sheet of the most common RStudio commands directly from RStudio by going to “Help -&gt; Cheat Sheets -&gt; RStudio IDE Cheat Sheet.”</p></li>
</ul>
</section>
</section>
<section id="getting-started-using-r" class="level2">
<h2 class="anchored" data-anchor-id="getting-started-using-r">Getting Started Using R</h2>
<section id="key-points-3" class="level3">
<h3 class="anchored" data-anchor-id="key-points-3">Key Points:</h3>
<ul>
<li><p>R was developed by statisticians and data analysts as an interactive environment for data analysis.</p></li>
<li><p>Some of the advantages of R are that:</p>
<ul>
<li><p>it is free and open source;</p></li>
<li><p>it has the capability to save scripts;</p></li>
<li><p>there are numerous resources for learning;</p></li>
<li><p>it is easy for developers to share software implementation.</p></li>
</ul></li>
<li><p>Expressions are evaluated in the R console when you type the expression into the console and hit Return.</p></li>
<li><p>A great advantage of R over point and click analysis software is that you can save your work as scripts.</p></li>
<li><p>“Base R” is what you get after you first install R. Additional components are available via packages.</p></li>
</ul>
</section>
<section id="some-addition-notes" class="level3">
<h3 class="anchored" data-anchor-id="some-addition-notes">Some Addition Notes</h3>
<p>In RStudio, you can upload additional functions and datasets in addition to the base R functions and datasets that come with R automatically. A common way to do this is by installing packages, which often contain extra functions and datasets. For this course, there are a few packages you will need to install. You only need to install each individual package once, but after you install a package, there are other steps you have to do whenever you want to use something from that package.</p>
<p>To install a package, you use the code <code>install.packages("package_name", dependencies = TRUE)</code>.</p>
<p>To load a package, you use the code <code>library(package_name)</code>.</p>
<p>If you also want to use a dataset from a package you have loaded, then you use the code <code>data(dataset_name)</code>. To see the dataset, you can take the additional step of <code>View(dataset_name)</code>.</p>
</section>
</section>
<section id="installing-packahes" class="level2">
<h2 class="anchored" data-anchor-id="installing-packahes">Installing Packahes</h2>
<section id="note" class="level3">
<h3 class="anchored" data-anchor-id="note">Note</h3>
<p>We recommend installing packages through RStudio, rather than through R, and the code provided works in both R and RStudio. Once a package has been installed, it is technically added onto R (even if you use RStudio to install it), which is why packages must be re-installed when R is updated. However, since we use R through RStudio, any packages that are installed can be used in both R and RStudio, regardless of which one was used to install the packages.</p>
</section>
<section id="key-points-4" class="level3">
<h3 class="anchored" data-anchor-id="key-points-4">key points</h3>
<ul>
<li>The base version of R is quite minimal, but you can supplement its functions by installing additional packages.</li>
<li>We will be using <strong>tidyverse</strong> and <strong>dslabs</strong> packages for this course.</li>
<li>Install packages from R console: <code>install.packages("pkg_name")</code></li>
<li>Install packages from RStudio interface: Tools &gt; Install Packages (allows autocomplete)</li>
<li>Once installed, we can use <code>library(pkg_name)</code> to load a package each time we want to use it</li>
</ul>
</section>
<section id="additional-notes" class="level3">
<h3 class="anchored" data-anchor-id="additional-notes">Additional Notes</h3>
<ul>
<li>If you try to load a package with <code>library(blahblah)</code> and get a message like <em>Error in library(blahblah) : there is no package called ‘blahblah’</em>, it means you need to install that package first with <code>install.packages()</code>.</li>
<li>On the DataCamp interface we use for some problems in the course, you cannot install additional packages. The problems have been set up with the packages you need to solve them.</li>
<li>You can add the option <code>dependencies = TRUE</code>, which tells R to install the other things that are necessary for the package or packages to run smoothly. Otherwise, you may need to install additional packages to unlock the full functionality of a package.</li>
<li>Throughout the course materials and textbook, package names are in <strong>bold</strong>.</li>
</ul>
</section>
<section id="code" class="level3">
<h3 class="anchored" data-anchor-id="code">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">install.packages</span>(<span class="st">"dslabs"</span>) <span class="co"># to install a single package</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"dslabs"</span>)) <span class="co"># to install two packages at the same time</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">installed.packages</span>() <span class="co"># to see the list of all installed packages</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="running-commands-while-editing-scripts" class="level2">
<h2 class="anchored" data-anchor-id="running-commands-while-editing-scripts">Running Commands While Editing Scripts</h2>
<section id="key-points-5" class="level3">
<h3 class="anchored" data-anchor-id="key-points-5">Key Points</h3>
<ul>
<li><p>RStudio has many useful features as an R editor, including the ability to <strong>test code</strong> easily as we write scripts and several <strong>auto complete features</strong>.</p></li>
<li><p>Keyboard shortcuts:</p>
<ul>
<li><strong>Save a script</strong>: Ctrl+S on Windows and Command+S on Mac</li>
<li><strong>Run an entire script</strong>: Ctrl+Shift+Enter on Windows Command+Shift+Return on Mac, or click “Source” on the editor pane</li>
<li><strong>Run a single line of script</strong>: Ctrl+Enter on Windows and Command+Return on Mac while the cursor is pointing to that line, or select the chunk and click “run”</li>
<li><strong>Open a new script</strong>: Ctrl+Shift+N on Windows and Command+Shift+N on Mac</li>
</ul></li>
</ul>
</section>
<section id="code-1" class="level3">
<h3 class="anchored" data-anchor-id="code-1">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Here is an example how to running commends while editing scripts</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>murders <span class="sc">%&gt;%</span> </span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(population, total, <span class="at">label=</span>abb, <span class="at">color=</span>region)) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="fu">geom_label</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="r-basics" class="level2">
<h2 class="anchored" data-anchor-id="r-basics">R Basics</h2>
<section id="key-points-6" class="level3">
<h3 class="anchored">Key Points</h3>
<ul>
<li><p>To define a variable, we may use the assignment symbol, <code>&lt;-</code>.</p></li>
<li><h2 id="there-are-two-ways-to-see-the-value-stored-in-a-variable" class="anchored" data-anchor-id="key-points-6">There are two ways to see the value stored in a variable:</h2>
<pre><code>(1) type the variable name into the console and hit Return;</code></pre>
<ul>
<li><ol start="2" type="1">
<li>use the <code>print()</code> function by typing <code>print(variable_name)</code> and hitting Return.</li>
</ol></li>
</ul></li>
<li><p>Objects are things that are stored in named containers in R. They can be variables, functions, etc.</p></li>
<li><p>The <code>ls()</code> function shows the names of the objects saved in your work space.</p></li>
</ul>
</section>
<section id="code-example-to-solving-the-equation-x2-x---1-0" class="level3">
<h3 class="anchored" data-anchor-id="code-example-to-solving-the-equation-x2-x---1-0">Code: example to solving the equation <span class="math inline">\(x^{2} + x - 1 = 0\)</span></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># assigning values to variables</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>b <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>c <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co"># solving the quadratic equation</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>(<span class="sc">-</span>b <span class="sc">+</span> <span class="fu">sqrt</span>(b<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> <span class="dv">4</span><span class="sc">*</span>a<span class="sc">*</span>c))<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>a)</span>
<span id="cb4-8"><a href="#cb4-8"></a>(<span class="sc">-</span>b <span class="sc">-</span> <span class="fu">sqrt</span>(b<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> <span class="dv">4</span><span class="sc">*</span>a<span class="sc">*</span>c))<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="function" class="level2">
<h2 class="anchored" data-anchor-id="function">Function</h2>
<section id="key-points-7" class="level3">
<h3 class="anchored" data-anchor-id="key-points-7">Key Points</h3>
<ul>
<li><p>In general, to evaluate a function we need to use <strong>parentheses</strong>. If we type a function without parenthesis, R shows us the code for the function. Most functions also require an argument, that is, something to be written inside the parenthesis.</p></li>
<li><p>To access <strong>help</strong> files, we may use the help function, <code>help(function_name)</code>, or write the question mark followed by the function name, ?function_name.</p></li>
<li><p>The help file shows you the arguments the function is expecting, some of which are required and some are optional. If an argument is optional, a default value is assigned with the equal sign. The <code>args()</code> function also shows the arguments a function needs.</p></li>
<li><p>To specify arguments, we use the equals sign. If no argument name is used, R assumes you’re entering arguments in the order shown in the help file.</p></li>
<li><p>Creating and saving a script makes code much easier to execute.</p></li>
<li><p>To make your code more readable, <strong>use intuitive variable names and include comments</strong> (using the <strong>“#”</strong> symbol) to remind yourself why you wrote a particular line of code.</p></li>
</ul>
</section>
</section>
<section id="data-types" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="data-types">Data Types</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The code <code>data("dataset_name")</code> and <code>data(dataset_name)</code> do the same thing. The code will work regardless of whether the quotes are present. It is a bit faster to leave out the quotes (as we do in the Code at the bottom of this page), so that is usually what we recommend, but it is your choice.</p>
</div>
</div>
<section id="key-points-8" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="key-points-8">Key Points</h3>
<ul>
<li><p>The function <code>class()</code> helps us determine the type of an object.</p></li>
<li><p><strong>Data frames</strong> can be thought of as tables with rows representing observations and columns representing different variables.</p></li>
<li><p>To access data from columns of a data frame, we use the dollar sign symbol, <code>$</code>, which is called the accessor.</p></li>
<li><p>A <strong>vector</strong> is an object consisting of several entries and can be a <strong>numeric vector</strong>, a <strong>character vector</strong>, or a <strong>logical vector</strong>.</p></li>
<li><p>We <strong>use quotes</strong> to distinguish between variable names and character strings.</p></li>
<li><p>Factors are useful for storing categorical data, and are more memory efficient than storing characters.</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Knowledge Extension
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  A{Data Type}---&gt; B[numeric]
  A{Data Type}---&gt;C[integer]
  A{Data Type} ---&gt;D[complex]
  A{Data Type}---&gt;E[character]
  A{Data Type}---&gt;F[logical]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
</div>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside"><strong>Explanation</strong>:<strong>Numeric</strong>: all real numbers with or without decimal values. e.g.&nbsp;1, 2, 8, 1.1.<strong>Integer(整数)</strong>: specifies real values without decimal points. we use the suffix<code>L</code> to specify integer data.<strong>Complex</strong>: specify purely imaginary values in R. We use the suffix <code>i</code> to specify the imaginary part. e.g.&nbsp;3 + 2i.<strong>Character</strong>:specify character or string values in a variable. <code>''</code> for character variables; <code>""</code> for string variables.<strong>Logical</strong>: is known as boolean data type. It can only have two values: <code>TRUE</code> and <code>FALSE</code></span></div></div>
</section>
<section id="code-2" class="level3">
<h3 class="anchored" data-anchor-id="code-2">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># loading the dslabs package and the murders dataset</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">data</span>(murders)</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># determining that the murders dataset is of the "data frame" class</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="fu">class</span>(murders)</span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co"># finding out more about the structure of the object</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="fu">str</span>(murders)</span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co"># showing the first 6 lines of the dataset</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="fu">head</span>(murders)</span>
<span id="cb5-11"><a href="#cb5-11"></a></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co"># using the accessor operator to obtain the population column</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>murders<span class="sc">$</span>population</span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co"># displaying the variable names in the murders dataset</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="fu">names</span>(murders)</span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co"># determining how many entries are in a vector</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>pop <span class="ot">&lt;-</span> murders<span class="sc">$</span>population</span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="fu">length</span>(pop)</span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co"># vectors can be of class numeric and character</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="fu">class</span>(pop)</span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="fu">class</span>(murders<span class="sc">$</span>state)</span>
<span id="cb5-22"><a href="#cb5-22"></a></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="co"># logical vectors are either TRUE or FALSE</span></span>
<span id="cb5-24"><a href="#cb5-24"></a>z <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb5-25"><a href="#cb5-25"></a>z</span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="fu">class</span>(z)</span>
<span id="cb5-27"><a href="#cb5-27"></a></span>
<span id="cb5-28"><a href="#cb5-28"></a><span class="co"># factors are another type of class</span></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="fu">class</span>(murders<span class="sc">$</span>region)</span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co"># obtaining the levels of a factor</span></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="fu">levels</span>(murders<span class="sc">$</span>region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="vectors-sorting" class="level1">
<h1>Vectors, Sorting</h1>
<p>In this section, I will introduce you to vectors and functions such as sorting.</p>
<p>In Vectors, you will:</p>
<ul>
<li><p>Create numeric and character vectors.</p></li>
<li><p>Name the columns of a vector.</p></li>
<li><p>Generate numeric sequences.</p></li>
<li><p>Access specific elements or parts of a vector.</p></li>
<li><p>Coerce data into different data types as needed.</p></li>
</ul>
<p>In Sorting, you will:</p>
<ul>
<li><p>Sort vectors in ascending and descending order.</p></li>
<li><p>Extract the indices of the sorted elements from the original vector.</p></li>
<li><p>Find the maximum and minimum elements, as well as their indices, in a vector.</p></li>
<li><p>Rank the elements of a vector in increasing order.</p></li>
</ul>
<p>In Vector Arithmetic, you will:</p>
<ul>
<li><p>Perform arithmetic between a vector and a single number.</p></li>
<li><p>Perform arithmetic between two vectors of the same length.</p></li>
</ul>
<section id="vectors" class="level2">
<h2 class="anchored" data-anchor-id="vectors">Vectors</h2>
<section id="key-points-9" class="level3">
<h3 class="anchored" data-anchor-id="key-points-9">Key points</h3>
<ul>
<li><p>The function c(), which stands for concatenate, is useful for creating vectors.</p></li>
<li><p>Another useful function for creating vectors is the seq() function, which generates sequences.</p></li>
<li><p>Subsetting lets us access specific parts of a vector by using square brackets to access elements of a vector.</p></li>
</ul>
</section>
<section id="code-3" class="level3">
<h3 class="anchored" data-anchor-id="code-3">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># We may create vectors of class numeric or character with the concatenate function</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>country <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"italy"</span>, <span class="st">"canada"</span>, <span class="st">"egypt"</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># We can also name the elements of a numeric vector</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># Note that the two lines of code below have the same result</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">italy =</span> <span class="dv">380</span>, <span class="at">canada =</span> <span class="dv">124</span>, <span class="at">egypt =</span> <span class="dv">818</span>)</span>
<span id="cb6-8"><a href="#cb6-8"></a>codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"italy"</span> <span class="ot">=</span> <span class="dv">380</span>, <span class="st">"canada"</span> <span class="ot">=</span> <span class="dv">124</span>, <span class="st">"egypt"</span> <span class="ot">=</span> <span class="dv">818</span>)</span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co"># We can also name the elements of a numeric vector using the names() function</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)</span>
<span id="cb6-12"><a href="#cb6-12"></a>country <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"italy"</span>,<span class="st">"canada"</span>,<span class="st">"egypt"</span>)</span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="fu">names</span>(codes) <span class="ot">&lt;-</span> country</span>
<span id="cb6-14"><a href="#cb6-14"></a></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co"># Using square brackets is useful for subsetting to access specific elements of a vector</span></span>
<span id="cb6-16"><a href="#cb6-16"></a>codes[<span class="dv">2</span>]</span>
<span id="cb6-17"><a href="#cb6-17"></a>codes[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span>
<span id="cb6-18"><a href="#cb6-18"></a>codes[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb6-19"><a href="#cb6-19"></a></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co"># If the entries of a vector are named, they may be accessed by referring to their name</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>codes[<span class="st">"canada"</span>]</span>
<span id="cb6-22"><a href="#cb6-22"></a>codes[<span class="fu">c</span>(<span class="st">"egypt"</span>,<span class="st">"italy"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="vector-coercion" class="level2">
<h2 class="anchored" data-anchor-id="vector-coercion">Vector Coercion</h2>
<section id="key-point" class="level3">
<h3 class="anchored" data-anchor-id="key-point">Key Point</h3>
<ul>
<li>In general, coercion is an attempt by R to be flexible with data types by guessing what was meant when an entry does not match the expected. For example, when defining x as</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="st">"canada"</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R coerced the data into characters. It guessed that because you put a character string in the vector, you meant the 1 and 3 to actually be character strings, “1” and “3”.</p>
<ul>
<li><p>The function <code>as.character()</code> turns numbers into characters.</p></li>
<li><p>The function <code>as.numeric()</code> turns characters into numbers.</p></li>
<li><p>In R, missing data is assigned the value <code>NA</code>.</p></li>
</ul>
</section>
<section id="question" class="level3">
<h3 class="anchored" data-anchor-id="question">Question</h3>
<ol type="1">
<li>class(3L) is integer ?</li>
<li>3L-3 equals 0 ?</li>
</ol>
</section>
</section>
<section id="sorting" class="level2">
<h2 class="anchored" data-anchor-id="sorting">Sorting</h2>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 19%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<tbody>
<tr class="odd">
<td>Original</td>
<td>Sort(按从小到大排列）</td>
<td>Order(Sort对应数字在原来数字排列中的顺序）</td>
<td>Rank(Original原来数字在Sort顺序中的排名）</td>
</tr>
<tr class="even">
<td>31</td>
<td>4</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="odd">
<td>4</td>
<td>15</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="even">
<td>15</td>
<td>31</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>92</td>
<td>65</td>
<td>5</td>
<td>5</td>
</tr>
<tr class="even">
<td>65</td>
<td>92</td>
<td>4</td>
<td>4</td>
</tr>
</tbody>
</table>
<section id="key-points-10" class="level3">
<h3 class="anchored" data-anchor-id="key-points-10">Key Points</h3>
<ul>
<li><p>The function <code>sort()</code> sorts a vector in increasing order.</p></li>
<li><p>The function <code>order()</code> produces the indices needed to obtain the sorted vector, e.g.&nbsp;a result of 2 3 1 5 4 means the sorted vector will be produced by listing the 2nd, 3rd, 1st, 5th, and then 4th item of the original vector.</p></li>
<li><p>The function <code>rank()</code> gives us the ranks of the items in the original vector.</p></li>
<li><p>The function <code>max()</code> returns the largest value, while <code>which.max()</code> returns the index of the largest value. The functions <code>min()</code> and <code>which.min()</code> work similarly for minimum values.</p></li>
</ul>
</section>
<section id="code-4" class="level3">
<h3 class="anchored" data-anchor-id="code-4">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">data</span>(murders)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">sort</span>(murders<span class="sc">$</span>total)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">4</span>, <span class="dv">15</span>, <span class="dv">92</span>, <span class="dv">65</span>)</span>
<span id="cb8-6"><a href="#cb8-6"></a>x</span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="fu">sort</span>(x)    <span class="co"># puts elements in order</span></span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a>index <span class="ot">&lt;-</span> <span class="fu">order</span>(x)    <span class="co"># returns index that will put x in order</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>x[index]    <span class="co"># rearranging by this index puts elements in order</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="fu">order</span>(x)</span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a>murders<span class="sc">$</span>state[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb8-14"><a href="#cb8-14"></a>murders<span class="sc">$</span>abb[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb8-15"><a href="#cb8-15"></a></span>
<span id="cb8-16"><a href="#cb8-16"></a>index <span class="ot">&lt;-</span> <span class="fu">order</span>(murders<span class="sc">$</span>total)</span>
<span id="cb8-17"><a href="#cb8-17"></a>murders<span class="sc">$</span>abb[index]    <span class="co"># order abbreviations by total murders</span></span>
<span id="cb8-18"><a href="#cb8-18"></a></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="fu">max</span>(murders<span class="sc">$</span>total)    <span class="co"># highest number of total murders</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>i_max <span class="ot">&lt;-</span> <span class="fu">which.max</span>(murders<span class="sc">$</span>total)    <span class="co"># index with highest number of murders</span></span>
<span id="cb8-21"><a href="#cb8-21"></a>murders<span class="sc">$</span>state[i_max]    <span class="co"># state name with highest number of total murders</span></span>
<span id="cb8-22"><a href="#cb8-22"></a></span>
<span id="cb8-23"><a href="#cb8-23"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">4</span>, <span class="dv">15</span>, <span class="dv">92</span>, <span class="dv">65</span>)</span>
<span id="cb8-24"><a href="#cb8-24"></a>x</span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="fu">rank</span>(x)    <span class="co"># returns ranks (smallest to largest)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="vector-arithmetic" class="level2">
<h2 class="anchored" data-anchor-id="vector-arithmetic">Vector Arithmetic</h2>
<section id="key-point-1" class="level3">
<h3 class="anchored" data-anchor-id="key-point-1">Key Point</h3>
<ul>
<li>In R, arithmetic operation on vectors occur element-wise</li>
</ul>
</section>
<section id="code-5" class="level3">
<h3 class="anchored" data-anchor-id="code-5">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># The name of the state with the maximum population is found by doing the following</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>murders<span class="sc">$</span>state[<span class="fu">which.max</span>(murders<span class="sc">$</span>population)]</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># how to obtain the murder rate</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>murder_rate <span class="ot">&lt;-</span> murders<span class="sc">$</span>total <span class="sc">/</span> murders<span class="sc">$</span>population <span class="sc">*</span> <span class="dv">100000</span></span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co"># ordering the states by murder rate, in decreasing order</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>murders<span class="sc">$</span>state[<span class="fu">order</span>(murder_rate, <span class="at">decreasing=</span><span class="cn">TRUE</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="indexing-data-wrangling-plots" class="level1">
<h1>Indexing, Data Wrangling, Plots</h1>
<p>In this section, I will introduce the R commands and techniques that help you wrangle, analyze, and visualize data.</p>
<p>In Indexing, you will: - Subset a vector based on properties of another vector.</p>
<ul>
<li><p>Use multiple logical operators to index vectors.</p></li>
<li><p>Extract the indices of vector elements satisfying one or more logical conditions.</p></li>
<li><p>Extract the indices of vector elements matching with another vector.</p></li>
<li><p>Determine which elements in one vector are present in another vector.</p></li>
</ul>
<p>In basic data wrangling, you will:</p>
<ul>
<li><p>Wrangle data tables using functions in the dplyr package.</p></li>
<li><p>Modify a data table by adding or changing columns.</p></li>
<li><p>Subset rows in a data table.</p></li>
<li><p>Subset columns in a data table.</p></li>
<li><p>Perform a series of operations using the pipe operator.</p></li>
<li><p>Create data frames.</p></li>
</ul>
<p>In basic plots, you will: - Plot data in scatter plots, box plots, and histograms.</p>
<p>In summarizing with dplyr, you will: - Use summarize() to facilitate summarizing data in dplyr.</p>
<ul>
<li><p>Learn about the dot placeholder.</p></li>
<li><p>Learn how to group and then summarize in dplyr.</p></li>
<li><p>Learn how to sort data tables in dplyr.</p></li>
</ul>
<p>In the rest section, you will: - Learn how to subset and summarize data using data.table.</p>
<ul>
<li>Learn how to sort data frames using data.table.</li>
</ul>
<section id="indexing" class="level2">
<h2 class="anchored" data-anchor-id="indexing">Indexing</h2>
<section id="key-point-2" class="level3">
<h3 class="anchored" data-anchor-id="key-point-2">Key Point</h3>
<ul>
<li><p>We can use logicals to index vectors.</p></li>
<li><p>Using the function sum()on a logical vector returns the number of entries that are true.</p></li>
<li><p>The logical operator “&amp;” makes two logicals true only when they are both true.</p></li>
</ul>
</section>
<section id="code-6" class="level3">
<h3 class="anchored" data-anchor-id="code-6">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># defining murder rate as before</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>murder_rate <span class="ot">&lt;-</span> murders<span class="sc">$</span>total <span class="sc">/</span> murders<span class="sc">$</span>population <span class="sc">*</span> <span class="dv">100000</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co"># creating a logical vector that specifies if the murder rate in that state is less than or equal to 0.71</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>index <span class="ot">&lt;-</span> murder_rate <span class="sc">&lt;=</span> <span class="fl">0.71</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co"># determining which states have murder rates less than or equal to 0.71</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>murders<span class="sc">$</span>state[index]</span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co"># calculating how many states have a murder rate less than or equal to 0.71</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="fu">sum</span>(index)</span>
<span id="cb10-9"><a href="#cb10-9"></a></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="co"># creating the two logical vectors representing our conditions</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>west <span class="ot">&lt;-</span> murders<span class="sc">$</span>region <span class="sc">==</span> <span class="st">"West"</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>safe <span class="ot">&lt;-</span> murder_rate <span class="sc">&lt;=</span> <span class="dv">1</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co"># defining an index and identifying states with both conditions true</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>index <span class="ot">&lt;-</span> safe <span class="sc">&amp;</span> west</span>
<span id="cb10-15"><a href="#cb10-15"></a>murders<span class="sc">$</span>state[index]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="indexing-functions" class="level2">
<h2 class="anchored" data-anchor-id="indexing-functions">Indexing Functions</h2>
<section id="key-points-11" class="level3">
<h3 class="anchored" data-anchor-id="key-points-11">Key Points</h3>
<ul>
<li><p>The function <code>which()</code> gives us the entries of a logical vector that are true.</p></li>
<li><p>The function <code>match()</code> looks for entries in a vector and returns the index needed to access them.</p></li>
<li><p>We use the function <code>%in%</code> if we want to know whether or not each element of a first vector is in a second vector.</p></li>
</ul>
</section>
<section id="code-7" class="level3">
<h3 class="anchored" data-anchor-id="code-7">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">which</span>(x)    <span class="co"># returns indices that are TRUE</span></span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co"># to determine the murder rate in Massachusetts we may do the following</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>index <span class="ot">&lt;-</span> <span class="fu">which</span>(murders<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"Massachusetts"</span>)</span>
<span id="cb11-6"><a href="#cb11-6"></a>index</span>
<span id="cb11-7"><a href="#cb11-7"></a>murder_rate[index]</span>
<span id="cb11-8"><a href="#cb11-8"></a></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co"># to obtain the indices and subsequent murder rates of New York, Florida, Texas, we do:</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>index <span class="ot">&lt;-</span> <span class="fu">match</span>(<span class="fu">c</span>(<span class="st">"New York"</span>, <span class="st">"Florida"</span>, <span class="st">"Texas"</span>), murders<span class="sc">$</span>state)</span>
<span id="cb11-11"><a href="#cb11-11"></a>index</span>
<span id="cb11-12"><a href="#cb11-12"></a>murders<span class="sc">$</span>state[index]</span>
<span id="cb11-13"><a href="#cb11-13"></a>murder_rate[index]</span>
<span id="cb11-14"><a href="#cb11-14"></a></span>
<span id="cb11-15"><a href="#cb11-15"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>)</span>
<span id="cb11-16"><a href="#cb11-16"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"d"</span>, <span class="st">"f"</span>)</span>
<span id="cb11-17"><a href="#cb11-17"></a>y <span class="sc">%in%</span> x</span>
<span id="cb11-18"><a href="#cb11-18"></a></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co"># to see if Boston, Dakota, and Washington are states</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="fu">c</span>(<span class="st">"Boston"</span>, <span class="st">"Dakota"</span>, <span class="st">"Washington"</span>) <span class="sc">%in%</span> murders<span class="sc">$</span>state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="basic-data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="basic-data-wrangling">Basic Data Wrangling</h2>
<section id="key-points-12" class="level3">
<h3 class="anchored" data-anchor-id="key-points-12">Key Points</h3>
<ul>
<li><p>To change a data table by <strong>adding a new column</strong>, or changing an existing one, we use the <code>mutate()</code> function.</p></li>
<li><p>To <strong>filter the data</strong> by subsetting rows, we use the function <code>filter()</code>.</p></li>
<li><p>To subset the data by <strong>selecting specific columns</strong>, we use the <code>select()</code> function.</p></li>
<li><p>We can perform a series of operations by sending the results of one function to another function using the <strong>pipe operator</strong>, <code>%&gt;%</code>.</p></li>
</ul>
</section>
</section>
<section id="creating-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="creating-data-frames">Creating Data Frames</h2>
<section id="note-2" class="level3">
<h3 class="anchored" data-anchor-id="note-2">Note</h3>
<p>The default settings in R have changed as of version 4.0, and it is no longer necessary to include the code <code>stringsAsFactors = FALSE</code> in order to keep strings as characters. Putting the entries in quotes, as in the example, is adequate to keep strings as characters. The <code>stringsAsFactors = FALSE</code> code is useful in certain other situations, but you do not need to include it when you create data frames in this manner.</p>
</section>
<section id="key-points-13" class="level3">
<h3 class="anchored" data-anchor-id="key-points-13">Key Points</h3>
<ul>
<li><p>We can use the <code>data.frame()</code> function to create data frames.</p></li>
<li><p>Formerly, the <code>data.frame()</code> function turned characters into factors by default. To avoid this, we could utilize the <code>stringsAsFactors</code> argument and set it equal to false. As of R 4.0, it is no longer necessary to include the <code>stringsAsFactors</code> argument, because R no longer turns characters into factors by default.</p></li>
</ul>
</section>
<section id="code-8" class="level3">
<h3 class="anchored" data-anchor-id="code-8">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># creating a data frame with stringAsFactors = FALSE</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>grades <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">"John"</span>, <span class="st">"Juan"</span>, <span class="st">"Jean"</span>, <span class="st">"Yao"</span>), </span>
<span id="cb12-3"><a href="#cb12-3"></a>                     <span class="at">exam_1 =</span> <span class="fu">c</span>(<span class="dv">95</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">85</span>), </span>
<span id="cb12-4"><a href="#cb12-4"></a>                     <span class="at">exam_2 =</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">85</span>, <span class="dv">90</span>),</span>
<span id="cb12-5"><a href="#cb12-5"></a>                     <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="basic-plots" class="level2">
<h2 class="anchored" data-anchor-id="basic-plots">Basic Plots</h2>
<section id="key-points-14" class="level3">
<h3 class="anchored" data-anchor-id="key-points-14">Key Points</h3>
<ul>
<li><p>We can create a simple scatterplot using the function <code>plot()</code>.</p></li>
<li><p>Histograms are graphical summaries that give you a general overview of the types of values you have. In R, they can be produced using the <code>hist()</code> function.</p></li>
<li><p>Boxplots provide a more compact summary of a distribution than a histogram and are more useful for comparing distributions. They can be produced using the <code>boxplot()</code> function.</p></li>
</ul>
</section>
<section id="code-9" class="level3">
<h3 class="anchored" data-anchor-id="code-9">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">data</span>(<span class="st">"murders"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># a simple scatterplot of total murders versus population</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>x <span class="ot">&lt;-</span> murders<span class="sc">$</span>population <span class="sc">/</span><span class="dv">10</span><span class="sc">^</span><span class="dv">6</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>y <span class="ot">&lt;-</span> murders<span class="sc">$</span>total</span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="fu">plot</span>(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># a histogram of murder rates</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>)</span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="fu">hist</span>(murders<span class="sc">$</span>rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># boxplots of murder rates by region</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">boxplot</span>(rate<span class="sc">~</span>region, <span class="at">data =</span> murders)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="the-summarize-function" class="level2">
<h2 class="anchored" data-anchor-id="the-summarize-function">The summarize function</h2>
<section id="key-points-15" class="level3">
<h3 class="anchored" data-anchor-id="key-points-15">Key Points</h3>
<ul>
<li><p>Summarizing data is an important part of data analysis.</p></li>
<li><p>Some summary ststistics are the <strong>mean</strong>, <strong>median</strong>, and <strong>standard deviation</strong>.</p></li>
<li><p>The <code>summarize()</code> function from <strong>dplyr</strong> provides an easy way to compute summary statics.</p></li>
</ul>
</section>
<section id="code-10" class="level3">
<h3 class="anchored" data-anchor-id="code-10">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb17-5"><a href="#cb17-5"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># minimum, median, and maximum murder rate for the states in the West region</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>s <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">"West"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="fu">summarize</span>(<span class="at">minimum =</span> <span class="fu">min</span>(rate), </span>
<span id="cb18-5"><a href="#cb18-5"></a>            <span class="at">median =</span> <span class="fu">median</span>(rate), </span>
<span id="cb18-6"><a href="#cb18-6"></a>            <span class="at">maximum =</span> <span class="fu">max</span>(rate))</span>
<span id="cb18-7"><a href="#cb18-7"></a>s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   minimum   median  maximum
1 0.514592 1.292453 3.629527</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># accessing the components with the accessor $</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>s<span class="sc">$</span>median</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.292453</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>s<span class="sc">$</span>maximum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.629527</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># average rate unadjusted by population size</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">mean</span>(murders<span class="sc">$</span>rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.779125</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># average rate adjusted by population size</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>us_murder_rate <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">summarize</span>(<span class="at">rate =</span> <span class="fu">sum</span>(total) <span class="sc">/</span> <span class="fu">sum</span>(population) <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span>
<span id="cb26-4"><a href="#cb26-4"></a>us_murder_rate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      rate
1 3.034555</code></pre>
</div>
</div>
</section>
</section>
<section id="summarizing-with-more-than-one-value" class="level2">
<h2 class="anchored" data-anchor-id="summarizing-with-more-than-one-value">Summarizing with more than one value</h2>
<section id="key-points-16" class="level3">
<h3 class="anchored" data-anchor-id="key-points-16">Key Points</h3>
<ul>
<li>The <code>quantile()</code> function can be used to return the min, median, and max in a single line of code.</li>
</ul>
</section>
<section id="code-11" class="level3">
<h3 class="anchored" data-anchor-id="code-11">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb28-5"><a href="#cb28-5"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># minimum, median, and maximum murder rate for the states in the West region using quantile</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co"># note that this returns a vector</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>murders <span class="sc">%&gt;%</span> </span>
<span id="cb29-4"><a href="#cb29-4"></a>  <span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">"West"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>  <span class="fu">summarize</span>(<span class="at">range =</span> <span class="fu">quantile</span>(rate, <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Returning more (or less) than 1 row per `summarise()` group was deprecated in
dplyr 1.1.0.
ℹ Please use `reframe()` instead.
ℹ When switching from `summarise()` to `reframe()`, remember that `reframe()`
  always returns an ungrouped data frame and adjust accordingly.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     range
1 0.514592
2 1.292453
3 3.629527</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># returning minimum, median, and maximum as a data frame</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>my_quantile <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb32-3"><a href="#cb32-3"></a>  r <span class="ot">&lt;-</span>  <span class="fu">quantile</span>(x, <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>))</span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">data.frame</span>(<span class="at">minimum =</span> r[<span class="dv">1</span>], <span class="at">median =</span> r[<span class="dv">2</span>], <span class="at">maximum =</span> r[<span class="dv">3</span>]) </span>
<span id="cb32-5"><a href="#cb32-5"></a>}</span>
<span id="cb32-6"><a href="#cb32-6"></a>murders <span class="sc">%&gt;%</span> </span>
<span id="cb32-7"><a href="#cb32-7"></a>  <span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">"West"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8"></a>  <span class="fu">summarize</span>(<span class="fu">my_quantile</span>(rate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   minimum   median  maximum
1 0.514592 1.292453 3.629527</code></pre>
</div>
</div>
</section>
</section>
<section id="pull-to-access-to-columns" class="level2">
<h2 class="anchored" data-anchor-id="pull-to-access-to-columns">Pull to access to columns</h2>
<section id="key-points-17" class="level3">
<h3 class="anchored" data-anchor-id="key-points-17">Key Points</h3>
<ul>
<li>The <code>pull()</code> function can be used to access values stored in data when using pipes: when a data object is piped that object and its columns can be accessed using the <code>pull()</code> function.</li>
</ul>
</section>
<section id="code-12" class="level3">
<h3 class="anchored" data-anchor-id="code-12">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb34-5"><a href="#cb34-5"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co"># average rate adjusted by population size</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>us_murder_rate <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">summarize</span>(<span class="at">rate =</span> <span class="fu">sum</span>(total) <span class="sc">/</span> <span class="fu">sum</span>(population) <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span>
<span id="cb35-4"><a href="#cb35-4"></a>us_murder_rate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      rate
1 3.034555</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># us_murder_rate is stored as a data frame</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">class</span>(us_murder_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co"># the pull function can return it as a numeric value</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>us_murder_rate <span class="sc">%&gt;%</span> <span class="fu">pull</span>(rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.034555</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># using pull to save the number directly</span></span>
<span id="cb41-2"><a href="#cb41-2"></a>us_murder_rate <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span> </span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">summarize</span>(<span class="at">rate =</span> <span class="fu">sum</span>(total) <span class="sc">/</span> <span class="fu">sum</span>(population) <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="fu">pull</span>(rate)</span>
<span id="cb41-5"><a href="#cb41-5"></a>us_murder_rate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.034555</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># us_murder_rate is now stored as a number</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">class</span>(us_murder_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</section>
</section>
<section id="the-dot-placeholder" class="level2">
<h2 class="anchored" data-anchor-id="the-dot-placeholder">The dot placeholder</h2>
<section id="key-points-18" class="level3">
<h3 class="anchored" data-anchor-id="key-points-18">Key Points</h3>
<ul>
<li>The <code>dot (.)</code> can be thought of as a placeholder for the data being passed through the pipe.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb45-4"><a href="#cb45-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb45-5"><a href="#cb45-5"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># average rate adjusted by population size</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>us_murder_rate <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3"></a>  <span class="fu">summarize</span>(<span class="at">rate =</span> <span class="fu">sum</span>(total) <span class="sc">/</span> <span class="fu">sum</span>(population) <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span>
<span id="cb46-4"><a href="#cb46-4"></a>us_murder_rate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      rate
1 3.034555</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># using the dot to access the rate</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>us_murder_rate <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">summarize</span>(<span class="at">rate =</span> <span class="fu">sum</span>(total) <span class="sc">/</span> <span class="fu">sum</span>(population) <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>  .<span class="sc">$</span>rate</span>
<span id="cb48-5"><a href="#cb48-5"></a>us_murder_rate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.034555</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">class</span>(us_murder_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</section>
</section>
<section id="group-then-summarize" class="level2">
<h2 class="anchored" data-anchor-id="group-then-summarize">Group then summarize</h2>
<section id="key-points-19" class="level3">
<h3 class="anchored" data-anchor-id="key-points-19">Key Points</h3>
<ul>
<li><p>Splitting data into groups and then computing summaries for each group is a common operation in data exploration.</p></li>
<li><p>We can use the <strong>dplyr</strong> <code>group_by()</code> function to create a special grouped data frame to facilitate such summaries.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb52-4"><a href="#cb52-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb52-5"><a href="#cb52-5"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="co"># group by region</span></span>
<span id="cb53-2"><a href="#cb53-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 51 × 6
# Groups:   region [4]
   state                abb   region    population total  rate
   &lt;chr&gt;                &lt;chr&gt; &lt;fct&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Alabama              AL    South        4779736   135  2.82
 2 Alaska               AK    West          710231    19  2.68
 3 Arizona              AZ    West         6392017   232  3.63
 4 Arkansas             AR    South        2915918    93  3.19
 5 California           CA    West        37253956  1257  3.37
 6 Colorado             CO    West         5029196    65  1.29
 7 Connecticut          CT    Northeast    3574097    97  2.71
 8 Delaware             DE    South         897934    38  4.23
 9 District of Columbia DC    South         601723    99 16.5 
10 Florida              FL    South       19687653   669  3.40
# ℹ 41 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># summarize after grouping</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>murders <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="fu">group_by</span>(region) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="fu">summarize</span>(<span class="at">median =</span> <span class="fu">median</span>(rate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  region        median
  &lt;fct&gt;          &lt;dbl&gt;
1 Northeast       1.80
2 South           3.40
3 North Central   1.97
4 West            1.29</code></pre>
</div>
</div>
</section>
</section>
<section id="sorting-data-tables" class="level2">
<h2 class="anchored" data-anchor-id="sorting-data-tables">Sorting data tables</h2>
<section id="key-points-20" class="level3">
<h3 class="anchored" data-anchor-id="key-points-20">Key Points</h3>
<ul>
<li><p>To order an entire table, we can use the <strong>dplyr</strong> function <code>arrange()</code>.</p></li>
<li><p>We can also use nested sorting to order by additional columns.</p></li>
<li><p>The function <code>head()</code> returns on the first few lines of a table.</p></li>
<li><p>The function <code>top_n()</code> returns the top n rows of a table.</p></li>
</ul>
</section>
<section id="code-13" class="level3">
<h3 class="anchored" data-anchor-id="code-13">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb57-2"><a href="#cb57-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb57-4"><a href="#cb57-4"></a><span class="fu">data</span>(murders)</span>
<span id="cb57-5"><a href="#cb57-5"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># order the states by population size</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(population) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 state abb        region population total       rate
1              Wyoming  WY          West     563626     5  0.8871131
2 District of Columbia  DC         South     601723    99 16.4527532
3              Vermont  VT     Northeast     625741     2  0.3196211
4         North Dakota  ND North Central     672591     4  0.5947151
5               Alaska  AK          West     710231    19  2.6751860
6         South Dakota  SD North Central     814180     8  0.9825837</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># order the states by murder rate - the default is ascending order</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(rate) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          state abb        region population total      rate
1       Vermont  VT     Northeast     625741     2 0.3196211
2 New Hampshire  NH     Northeast    1316470     5 0.3798036
3        Hawaii  HI          West    1360301     7 0.5145920
4  North Dakota  ND North Central     672591     4 0.5947151
5          Iowa  IA North Central    3046355    21 0.6893484
6         Idaho  ID          West    1567582    12 0.7655102</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># order the states by murder rate in descending order</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(rate)) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 state abb        region population total      rate
1 District of Columbia  DC         South     601723    99 16.452753
2            Louisiana  LA         South    4533372   351  7.742581
3             Missouri  MO North Central    5988927   321  5.359892
4             Maryland  MD         South    5773552   293  5.074866
5       South Carolina  SC         South    4625364   207  4.475323
6             Delaware  DE         South     897934    38  4.231937</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># order the states by region and then by murder rate within region</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(region, rate) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          state abb    region population total      rate
1       Vermont  VT Northeast     625741     2 0.3196211
2 New Hampshire  NH Northeast    1316470     5 0.3798036
3         Maine  ME Northeast    1328361    11 0.8280881
4  Rhode Island  RI Northeast    1052567    16 1.5200933
5 Massachusetts  MA Northeast    6547629   118 1.8021791
6      New York  NY Northeast   19378102   517 2.6679599</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="co"># return the top 10 states by murder rate</span></span>
<span id="cb66-2"><a href="#cb66-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="dv">10</span>, rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  state abb        region population total      rate
1               Arizona  AZ          West    6392017   232  3.629527
2              Delaware  DE         South     897934    38  4.231937
3  District of Columbia  DC         South     601723    99 16.452753
4               Georgia  GA         South    9920000   376  3.790323
5             Louisiana  LA         South    4533372   351  7.742581
6              Maryland  MD         South    5773552   293  5.074866
7              Michigan  MI North Central    9883640   413  4.178622
8           Mississippi  MS         South    2967297   120  4.044085
9              Missouri  MO North Central    5988927   321  5.359892
10       South Carolina  SC         South    4625364   207  4.475323</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># return the top 10 states ranked by murder rate, sorted by murder rate</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>murders <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(rate)) <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Selecting by rate</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                  state abb        region population total      rate
1  District of Columbia  DC         South     601723    99 16.452753
2             Louisiana  LA         South    4533372   351  7.742581
3              Missouri  MO North Central    5988927   321  5.359892
4              Maryland  MD         South    5773552   293  5.074866
5        South Carolina  SC         South    4625364   207  4.475323
6              Delaware  DE         South     897934    38  4.231937
7              Michigan  MI North Central    9883640   413  4.178622
8           Mississippi  MS         South    2967297   120  4.044085
9               Georgia  GA         South    9920000   376  3.790323
10              Arizona  AZ          West    6392017   232  3.629527</code></pre>
</div>
</div>
</section>
</section>
<section id="introduction-to-data.table" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-data.table">Introduction to data.table</h2>
<section id="key-points-21" class="level3">
<h3 class="anchored" data-anchor-id="key-points-21">Key Points</h3>
<ul>
<li><p>In this course, we often use tidyverse packages to illustrate because these packages tend to have code that is very readable for beginners.</p></li>
<li><p>There are other approaches to wrangling and analyzing data in R that are faster and better at handling large objects, such as the data.table package.</p></li>
<li><p>Selecting in data.table uses notation similar to that used with matrices.</p></li>
<li><p>To add a column in data.table, you can use the := function.</p></li>
<li><p>Because the data.table package is designed to avoid wasting memory, when you make a copy of a table, it does not create a new object. The := function changes by reference. If you want to make an actual copy, you need to use the copy() function.</p></li>
<li><p>Side note: the R language has a new, built-in pipe operator as of version 4.1: |&gt;. This works similarly to the pipe %&gt;% you are already familiar with. You can <a href="https://www.r-bloggers.com/2021/05/the-new-r-pipe/">read more about the |&gt; pipe here External link</a>.</p></li>
</ul>
</section>
<section id="code-14" class="level3">
<h3 class="anchored" data-anchor-id="code-14">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="co"># install the data.table package before you use it!</span></span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="fu">install.packages</span>(<span class="st">"data.table"</span>)</span>
<span id="cb71-3"><a href="#cb71-3"></a></span>
<span id="cb71-4"><a href="#cb71-4"></a><span class="co"># load data.table package</span></span>
<span id="cb71-5"><a href="#cb71-5"></a><span class="fu">library</span>(data.table)</span>
<span id="cb71-6"><a href="#cb71-6"></a></span>
<span id="cb71-7"><a href="#cb71-7"></a><span class="co"># load other packages and datasets</span></span>
<span id="cb71-8"><a href="#cb71-8"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb71-9"><a href="#cb71-9"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb71-10"><a href="#cb71-10"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb71-11"><a href="#cb71-11"></a><span class="fu">data</span>(murders)</span>
<span id="cb71-12"><a href="#cb71-12"></a></span>
<span id="cb71-13"><a href="#cb71-13"></a><span class="co"># convert the data frame into a data.table object</span></span>
<span id="cb71-14"><a href="#cb71-14"></a>murders <span class="ot">&lt;-</span> <span class="fu">setDT</span>(murders)</span>
<span id="cb71-15"><a href="#cb71-15"></a></span>
<span id="cb71-16"><a href="#cb71-16"></a><span class="co"># selecting in dplyr</span></span>
<span id="cb71-17"><a href="#cb71-17"></a><span class="fu">select</span>(murders, state, region)</span>
<span id="cb71-18"><a href="#cb71-18"></a></span>
<span id="cb71-19"><a href="#cb71-19"></a><span class="co"># selecting in data.table - 2 methods</span></span>
<span id="cb71-20"><a href="#cb71-20"></a>murders[, <span class="fu">c</span>(<span class="st">"state"</span>, <span class="st">"region"</span>)] <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb71-21"><a href="#cb71-21"></a>murders[, .(state, region)] <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb71-22"><a href="#cb71-22"></a></span>
<span id="cb71-23"><a href="#cb71-23"></a><span class="co"># adding or changing a column in dplyr</span></span>
<span id="cb71-24"><a href="#cb71-24"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span>
<span id="cb71-25"><a href="#cb71-25"></a></span>
<span id="cb71-26"><a href="#cb71-26"></a><span class="co"># adding or changing a column in data.table</span></span>
<span id="cb71-27"><a href="#cb71-27"></a>murders[, rate <span class="sc">:</span><span class="er">=</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>]</span>
<span id="cb71-28"><a href="#cb71-28"></a><span class="fu">head</span>(murders)</span>
<span id="cb71-29"><a href="#cb71-29"></a>murders[, <span class="st">":="</span>(<span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>, <span class="at">rank =</span> <span class="fu">rank</span>(population))]</span>
<span id="cb71-30"><a href="#cb71-30"></a></span>
<span id="cb71-31"><a href="#cb71-31"></a><span class="co"># y is referring to x and := changes by reference</span></span>
<span id="cb71-32"><a href="#cb71-32"></a>x <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">a =</span> <span class="dv">1</span>)</span>
<span id="cb71-33"><a href="#cb71-33"></a>y <span class="ot">&lt;-</span> x</span>
<span id="cb71-34"><a href="#cb71-34"></a></span>
<span id="cb71-35"><a href="#cb71-35"></a>x[,a <span class="sc">:</span><span class="er">=</span> <span class="dv">2</span>]</span>
<span id="cb71-36"><a href="#cb71-36"></a>y</span>
<span id="cb71-37"><a href="#cb71-37"></a></span>
<span id="cb71-38"><a href="#cb71-38"></a>y[,a <span class="sc">:</span><span class="er">=</span> <span class="dv">1</span>]</span>
<span id="cb71-39"><a href="#cb71-39"></a>x</span>
<span id="cb71-40"><a href="#cb71-40"></a></span>
<span id="cb71-41"><a href="#cb71-41"></a><span class="co"># use copy to make an actual copy</span></span>
<span id="cb71-42"><a href="#cb71-42"></a>x <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">a =</span> <span class="dv">1</span>)</span>
<span id="cb71-43"><a href="#cb71-43"></a>y <span class="ot">&lt;-</span> <span class="fu">copy</span>(x)</span>
<span id="cb71-44"><a href="#cb71-44"></a>x[,a <span class="sc">:</span><span class="er">=</span> <span class="dv">2</span>]</span>
<span id="cb71-45"><a href="#cb71-45"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="subsetting-with-data.table" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-with-data.table">Subsetting with data.table</h2>
<section id="key-points-22" class="level3">
<h3 class="anchored" data-anchor-id="key-points-22">Key Points</h3>
<p><a href="http://rafalab.dfci.harvard.edu/dsbook/data-table.html#subsetting-1">Subsetting in <strong>data.table</strong></a> uses notation similar to that used with matrices.</p>
</section>
<section id="code-15" class="level3">
<h3 class="anchored" data-anchor-id="code-15">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="co"># load packages and prepare the data</span></span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb72-3"><a href="#cb72-3"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb72-5"><a href="#cb72-5"></a><span class="fu">data</span>(murders)</span>
<span id="cb72-6"><a href="#cb72-6"></a><span class="fu">library</span>(data.table)</span>
<span id="cb72-7"><a href="#cb72-7"></a>murders <span class="ot">&lt;-</span> <span class="fu">setDT</span>(murders)</span>
<span id="cb72-8"><a href="#cb72-8"></a>murders <span class="ot">&lt;-</span> <span class="fu">mutate</span>(murders, <span class="at">rate =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">5</span>)</span>
<span id="cb72-9"><a href="#cb72-9"></a>murders[, rate <span class="sc">:</span><span class="er">=</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>]</span>
<span id="cb72-10"><a href="#cb72-10"></a></span>
<span id="cb72-11"><a href="#cb72-11"></a><span class="co"># subsetting in dplyr</span></span>
<span id="cb72-12"><a href="#cb72-12"></a><span class="fu">filter</span>(murders, rate <span class="sc">&lt;=</span> <span class="fl">0.7</span>)</span>
<span id="cb72-13"><a href="#cb72-13"></a></span>
<span id="cb72-14"><a href="#cb72-14"></a><span class="co"># subsetting in data.table</span></span>
<span id="cb72-15"><a href="#cb72-15"></a>murders[rate <span class="sc">&lt;=</span> <span class="fl">0.7</span>]</span>
<span id="cb72-16"><a href="#cb72-16"></a></span>
<span id="cb72-17"><a href="#cb72-17"></a><span class="co"># combining filter and select in data.table</span></span>
<span id="cb72-18"><a href="#cb72-18"></a>murders[rate <span class="sc">&lt;=</span> <span class="fl">0.7</span>, .(state, rate)]</span>
<span id="cb72-19"><a href="#cb72-19"></a></span>
<span id="cb72-20"><a href="#cb72-20"></a><span class="co"># combining filter and select in dplyr</span></span>
<span id="cb72-21"><a href="#cb72-21"></a>murders <span class="sc">%&gt;%</span> <span class="fu">filter</span>(rate <span class="sc">&lt;=</span> <span class="fl">0.7</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(state, rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="summarizing-with-data.table" class="level2">
<h2 class="anchored" data-anchor-id="summarizing-with-data.table">Summarizing with data.table</h2>
<section id="key-points-23" class="level3">
<h3 class="anchored" data-anchor-id="key-points-23">Key Points</h3>
<ul>
<li><p>In data.table we can call functions inside <code>.()</code>and they will be applied to rows.</p></li>
<li><p>The <code>group_by</code> followed by summarize in <strong>dplyr</strong> is performed in one line in data.table using the by argument.</p></li>
</ul>
</section>
<section id="code-16" class="level3">
<h3 class="anchored" data-anchor-id="code-16">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># load packages and prepare the data - heights dataset</span></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb73-5"><a href="#cb73-5"></a><span class="fu">data</span>(heights)</span>
<span id="cb73-6"><a href="#cb73-6"></a>heights <span class="ot">&lt;-</span> <span class="fu">setDT</span>(heights)</span>
<span id="cb73-7"><a href="#cb73-7"></a></span>
<span id="cb73-8"><a href="#cb73-8"></a><span class="co"># summarizing in dplyr</span></span>
<span id="cb73-9"><a href="#cb73-9"></a>s <span class="ot">&lt;-</span> heights <span class="sc">%&gt;%</span> </span>
<span id="cb73-10"><a href="#cb73-10"></a>  <span class="fu">summarize</span>(<span class="at">average =</span> <span class="fu">mean</span>(height), <span class="at">standard_deviation =</span> <span class="fu">sd</span>(height))</span>
<span id="cb73-11"><a href="#cb73-11"></a>  </span>
<span id="cb73-12"><a href="#cb73-12"></a><span class="co"># summarizing in data.table</span></span>
<span id="cb73-13"><a href="#cb73-13"></a>s <span class="ot">&lt;-</span> heights[, .(<span class="at">average =</span> <span class="fu">mean</span>(height), <span class="at">standard_deviation =</span> <span class="fu">sd</span>(height))]</span>
<span id="cb73-14"><a href="#cb73-14"></a></span>
<span id="cb73-15"><a href="#cb73-15"></a><span class="co"># subsetting and then summarizing in dplyr</span></span>
<span id="cb73-16"><a href="#cb73-16"></a>s <span class="ot">&lt;-</span> heights <span class="sc">%&gt;%</span> </span>
<span id="cb73-17"><a href="#cb73-17"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-18"><a href="#cb73-18"></a>  <span class="fu">summarize</span>(<span class="at">average =</span> <span class="fu">mean</span>(height), <span class="at">standard_deviation =</span> <span class="fu">sd</span>(height))</span>
<span id="cb73-19"><a href="#cb73-19"></a>  </span>
<span id="cb73-20"><a href="#cb73-20"></a><span class="co"># subsetting and then summarizing in data.table</span></span>
<span id="cb73-21"><a href="#cb73-21"></a>s <span class="ot">&lt;-</span> heights[sex <span class="sc">==</span> <span class="st">"Female"</span>, .(<span class="at">average =</span> <span class="fu">mean</span>(height), <span class="at">standard_deviation =</span> <span class="fu">sd</span>(height))]</span>
<span id="cb73-22"><a href="#cb73-22"></a></span>
<span id="cb73-23"><a href="#cb73-23"></a><span class="co"># previously defined function</span></span>
<span id="cb73-24"><a href="#cb73-24"></a>median_min_max <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb73-25"><a href="#cb73-25"></a>  qs <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x, <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb73-26"><a href="#cb73-26"></a>  <span class="fu">data.frame</span>(<span class="at">median =</span> qs[<span class="dv">1</span>], <span class="at">minimum =</span> qs[<span class="dv">2</span>], <span class="at">maximum =</span> qs[<span class="dv">3</span>])</span>
<span id="cb73-27"><a href="#cb73-27"></a>}</span>
<span id="cb73-28"><a href="#cb73-28"></a></span>
<span id="cb73-29"><a href="#cb73-29"></a><span class="co"># multiple summaries in data.table</span></span>
<span id="cb73-30"><a href="#cb73-30"></a>heights[, .(<span class="fu">median_min_max</span>(height))]</span>
<span id="cb73-31"><a href="#cb73-31"></a></span>
<span id="cb73-32"><a href="#cb73-32"></a><span class="co"># grouping then summarizing in data.table</span></span>
<span id="cb73-33"><a href="#cb73-33"></a>heights[, .(<span class="at">average =</span> <span class="fu">mean</span>(height), <span class="at">standard_deviation =</span> <span class="fu">sd</span>(height)), by <span class="ot">=</span> sex]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sorting-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="sorting-data-frames"><a href="http://rafalab.dfci.harvard.edu/dsbook/tidyverse.html#sorting-data-frames">Sorting data frames</a></h2>
<section id="key-points-24" class="level3">
<h3 class="anchored" data-anchor-id="key-points-24">Key Points</h3>
<ul>
<li><p>To order rows in a data frame using data.table, we can use the same approach we used for filtering.</p></li>
<li><p>The default sort is an ascending order, but we can also sort tables in descending order.</p></li>
<li><p>We can also perform nested sorting by including multiple variables in the desired sort order.</p></li>
</ul>
</section>
<section id="code-17" class="level3">
<h3 class="anchored" data-anchor-id="code-17">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="co"># load packages and datasets and prepare the data</span></span>
<span id="cb74-2"><a href="#cb74-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb74-3"><a href="#cb74-3"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb74-4"><a href="#cb74-4"></a><span class="fu">library</span>(data.table)</span>
<span id="cb74-5"><a href="#cb74-5"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb74-6"><a href="#cb74-6"></a><span class="fu">data</span>(murders)</span>
<span id="cb74-7"><a href="#cb74-7"></a>murders <span class="ot">&lt;-</span> <span class="fu">setDT</span>(murders)</span>
<span id="cb74-8"><a href="#cb74-8"></a>murders[, rate <span class="sc">:</span><span class="er">=</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>]</span>
<span id="cb74-9"><a href="#cb74-9"></a></span>
<span id="cb74-10"><a href="#cb74-10"></a><span class="co"># order by population</span></span>
<span id="cb74-11"><a href="#cb74-11"></a>murders[<span class="fu">order</span>(population)] <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb74-12"><a href="#cb74-12"></a></span>
<span id="cb74-13"><a href="#cb74-13"></a><span class="co"># order by population in descending order</span></span>
<span id="cb74-14"><a href="#cb74-14"></a>murders[<span class="fu">order</span>(population, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)] </span>
<span id="cb74-15"><a href="#cb74-15"></a></span>
<span id="cb74-16"><a href="#cb74-16"></a><span class="co"># order by region and then murder rate</span></span>
<span id="cb74-17"><a href="#cb74-17"></a>murders[<span class="fu">order</span>(region, rate)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="programming-basics" class="level1">
<h1>Programming Basics</h1>
<p>In this section, I will introduce you to general programming features like ‘if-else’ and ‘for loop’ commands so that you can write your own functions to perform various operations on datasets.</p>
<p>In programming basics, you will: - Understand some of the programming capabilities of R.</p>
<p>In basic condationals, you will: - Use basic conditional expressions to perform different operations. Check if any or all elements of a logical vector are TRUE.</p>
<p>In function, you will: - Define and call functions to perform various operations.</p>
<ul>
<li>Pass arguments to functions, and return variables/objects from functions.</li>
</ul>
<p>In loops, you will: - Use for-loops to perform repeated operations.</p>
<ul>
<li>Articulate in-built functions of R that you could try for yourself.</li>
</ul>
<section id="programming-basics-1" class="level2">
<h2 class="anchored" data-anchor-id="programming-basics-1">Programming Basics</h2>
<p><a href="http://rafalab.dfci.harvard.edu/dsbook/programming-basics.html">Introduction to Programming in R</a></p>
</section>
<section id="basic-condationals" class="level2">
<h2 class="anchored" data-anchor-id="basic-condationals">Basic Condationals</h2>
<section id="key-points-25" class="level3">
<h3 class="anchored" data-anchor-id="key-points-25">Key Points</h3>
<ul>
<li><p>The most common conditional expression in programming is an if-else statement, which has the form “if [condition], perform [expression], else perform [alternative expression]”.</p></li>
<li><p>The <code>ifelse()</code> function works similarly to an if-else statement, but it is particularly useful since it works on vectors by examining each element of the vector and returning a corresponding answer accordingly.</p></li>
<li><p>The <code>any()</code> function takes a vector of logicals and returns true if any of the entries are true.</p></li>
<li><p>The <code>all()</code> function takes a vector of logicals and returns true if all of the entries are true.</p></li>
</ul>
</section>
<section id="code-18" class="level3">
<h3 class="anchored" data-anchor-id="code-18">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="co"># an example showing the general structure of an if-else statement</span></span>
<span id="cb75-2"><a href="#cb75-2"></a>a <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb75-3"><a href="#cb75-3"></a><span class="cf">if</span>(a<span class="sc">!=</span><span class="dv">0</span>){</span>
<span id="cb75-4"><a href="#cb75-4"></a>  <span class="fu">print</span>(<span class="dv">1</span><span class="sc">/</span>a)</span>
<span id="cb75-5"><a href="#cb75-5"></a>} <span class="cf">else</span>{</span>
<span id="cb75-6"><a href="#cb75-6"></a>  <span class="fu">print</span>(<span class="st">"No reciprocal for 0."</span>)</span>
<span id="cb75-7"><a href="#cb75-7"></a>}</span>
<span id="cb75-8"><a href="#cb75-8"></a></span>
<span id="cb75-9"><a href="#cb75-9"></a><span class="co"># an example that tells us which states, if any, have a murder rate less than 0.5</span></span>
<span id="cb75-10"><a href="#cb75-10"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb75-11"><a href="#cb75-11"></a><span class="fu">data</span>(murders)</span>
<span id="cb75-12"><a href="#cb75-12"></a>murder_rate <span class="ot">&lt;-</span> murders<span class="sc">$</span>total <span class="sc">/</span> murders<span class="sc">$</span>population<span class="sc">*</span><span class="dv">100000</span></span>
<span id="cb75-13"><a href="#cb75-13"></a>ind <span class="ot">&lt;-</span> <span class="fu">which.min</span>(murder_rate)</span>
<span id="cb75-14"><a href="#cb75-14"></a><span class="cf">if</span>(murder_rate[ind] <span class="sc">&lt;</span> <span class="fl">0.5</span>){</span>
<span id="cb75-15"><a href="#cb75-15"></a>  <span class="fu">print</span>(murders<span class="sc">$</span>state[ind]) </span>
<span id="cb75-16"><a href="#cb75-16"></a>} <span class="cf">else</span>{</span>
<span id="cb75-17"><a href="#cb75-17"></a>  <span class="fu">print</span>(<span class="st">"No state has murder rate that low"</span>)</span>
<span id="cb75-18"><a href="#cb75-18"></a>}</span>
<span id="cb75-19"><a href="#cb75-19"></a></span>
<span id="cb75-20"><a href="#cb75-20"></a><span class="co"># changing the condition to &lt; 0.25 changes the result</span></span>
<span id="cb75-21"><a href="#cb75-21"></a><span class="cf">if</span>(murder_rate[ind] <span class="sc">&lt;</span> <span class="fl">0.25</span>){</span>
<span id="cb75-22"><a href="#cb75-22"></a>  <span class="fu">print</span>(murders<span class="sc">$</span>state[ind]) </span>
<span id="cb75-23"><a href="#cb75-23"></a>} <span class="cf">else</span>{</span>
<span id="cb75-24"><a href="#cb75-24"></a>  <span class="fu">print</span>(<span class="st">"No state has a murder rate that low."</span>)</span>
<span id="cb75-25"><a href="#cb75-25"></a>}</span>
<span id="cb75-26"><a href="#cb75-26"></a></span>
<span id="cb75-27"><a href="#cb75-27"></a><span class="co"># the ifelse() function works similarly to an if-else conditional</span></span>
<span id="cb75-28"><a href="#cb75-28"></a>a <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb75-29"><a href="#cb75-29"></a><span class="fu">ifelse</span>(a <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span><span class="sc">/</span>a, <span class="cn">NA</span>)</span>
<span id="cb75-30"><a href="#cb75-30"></a></span>
<span id="cb75-31"><a href="#cb75-31"></a><span class="co"># the ifelse() function is particularly useful on vectors</span></span>
<span id="cb75-32"><a href="#cb75-32"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="sc">-</span><span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb75-33"><a href="#cb75-33"></a>result <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(a <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span><span class="sc">/</span>a, <span class="cn">NA</span>)</span>
<span id="cb75-34"><a href="#cb75-34"></a></span>
<span id="cb75-35"><a href="#cb75-35"></a><span class="co"># the ifelse() function is also helpful for replacing missing values</span></span>
<span id="cb75-36"><a href="#cb75-36"></a><span class="fu">data</span>(na_example)</span>
<span id="cb75-37"><a href="#cb75-37"></a>no_nas <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(na_example), <span class="dv">0</span>, na_example) </span>
<span id="cb75-38"><a href="#cb75-38"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(no_nas))</span>
<span id="cb75-39"><a href="#cb75-39"></a></span>
<span id="cb75-40"><a href="#cb75-40"></a><span class="co"># the any() and all() functions evaluate logical vectors</span></span>
<span id="cb75-41"><a href="#cb75-41"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb75-42"><a href="#cb75-42"></a><span class="fu">any</span>(z)</span>
<span id="cb75-43"><a href="#cb75-43"></a><span class="fu">all</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<section id="key-points-26" class="level3">
<h3 class="anchored" data-anchor-id="key-points-26">Key Points</h3>
<ul>
<li><p>The R function called function() tells R you are about to define a new function.</p></li>
<li><p>Functions are objects, so must be assigned a variable name with the arrow operator.</p></li>
<li><p>The general way to define functions is:</p>
<ul>
<li><ol type="1">
<li>decide the function name, which will be an object,</li>
</ol></li>
<li><ol start="2" type="1">
<li>type function() with your function’s arguments in parentheses, - (3) write all the operations inside brackets.</li>
</ol></li>
</ul></li>
<li><p>Variables defined inside a function are not saved in the workspace.</p></li>
</ul>
</section>
<section id="code-19" class="level3">
<h3 class="anchored" data-anchor-id="code-19">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="co"># example of defining a function to compute the average of a vector x</span></span>
<span id="cb76-2"><a href="#cb76-2"></a>avg <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb76-3"><a href="#cb76-3"></a>  s <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb76-4"><a href="#cb76-4"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb76-5"><a href="#cb76-5"></a>  s<span class="sc">/</span>n</span>
<span id="cb76-6"><a href="#cb76-6"></a>}</span>
<span id="cb76-7"><a href="#cb76-7"></a></span>
<span id="cb76-8"><a href="#cb76-8"></a><span class="co"># we see that the above function and the pre-built R mean() function are identical</span></span>
<span id="cb76-9"><a href="#cb76-9"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span></span>
<span id="cb76-10"><a href="#cb76-10"></a><span class="fu">identical</span>(<span class="fu">mean</span>(x), <span class="fu">avg</span>(x))</span>
<span id="cb76-11"><a href="#cb76-11"></a></span>
<span id="cb76-12"><a href="#cb76-12"></a><span class="co"># variables inside a function are not defined in the workspace</span></span>
<span id="cb76-13"><a href="#cb76-13"></a>s <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb76-14"><a href="#cb76-14"></a><span class="fu">avg</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb76-15"><a href="#cb76-15"></a>s</span>
<span id="cb76-16"><a href="#cb76-16"></a></span>
<span id="cb76-17"><a href="#cb76-17"></a><span class="co"># the general form of a function</span></span>
<span id="cb76-18"><a href="#cb76-18"></a>my_function <span class="ot">&lt;-</span> <span class="cf">function</span>(VARIABLE_NAME){</span>
<span id="cb76-19"><a href="#cb76-19"></a>  perform operations on VARIABLE_NAME and calculate VALUE</span>
<span id="cb76-20"><a href="#cb76-20"></a>  VALUE</span>
<span id="cb76-21"><a href="#cb76-21"></a>}</span>
<span id="cb76-22"><a href="#cb76-22"></a></span>
<span id="cb76-23"><a href="#cb76-23"></a><span class="co"># functions can have multiple arguments as well as default values</span></span>
<span id="cb76-24"><a href="#cb76-24"></a>avg <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">arithmetic =</span> <span class="cn">TRUE</span>){</span>
<span id="cb76-25"><a href="#cb76-25"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb76-26"><a href="#cb76-26"></a>  <span class="fu">ifelse</span>(arithmetic, <span class="fu">sum</span>(x)<span class="sc">/</span>n, <span class="fu">prod</span>(x)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>n))</span>
<span id="cb76-27"><a href="#cb76-27"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="for-loops" class="level2">
<h2 class="anchored" data-anchor-id="for-loops">For Loops</h2>
<section id="key-points-27" class="level3">
<h3 class="anchored" data-anchor-id="key-points-27">Key Points</h3>
<ul>
<li><p>For-loops perform the same task over and over while changing the variable. They let us define the range that our variable takes, and then changes the value with each loop and evaluates the expression every time inside the loop.</p></li>
<li><p>The general form of a for-loop is: “For i in [some range], do operations”. This i changes across the range of values and the operations assume i is a value you’re interested in computing on.</p></li>
<li><p>At the end of the loop, the value of i is the last value of the range.</p></li>
</ul>
</section>
<section id="code-20" class="level3">
<h3 class="anchored" data-anchor-id="code-20">Code</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="co"># creating a function that computes the sum of integers 1 through n</span></span>
<span id="cb77-2"><a href="#cb77-2"></a>compute_s_n <span class="ot">&lt;-</span> <span class="cf">function</span>(n){</span>
<span id="cb77-3"><a href="#cb77-3"></a>  x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>n</span>
<span id="cb77-4"><a href="#cb77-4"></a>  <span class="fu">sum</span>(x)</span>
<span id="cb77-5"><a href="#cb77-5"></a>}</span>
<span id="cb77-6"><a href="#cb77-6"></a></span>
<span id="cb77-7"><a href="#cb77-7"></a><span class="co"># a very simple for-loop</span></span>
<span id="cb77-8"><a href="#cb77-8"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb77-9"><a href="#cb77-9"></a>  <span class="fu">print</span>(i)</span>
<span id="cb77-10"><a href="#cb77-10"></a>}</span>
<span id="cb77-11"><a href="#cb77-11"></a></span>
<span id="cb77-12"><a href="#cb77-12"></a><span class="co"># a for-loop for our summation</span></span>
<span id="cb77-13"><a href="#cb77-13"></a>m <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb77-14"><a href="#cb77-14"></a>s_n <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">length =</span> m) <span class="co"># create an empty vector</span></span>
<span id="cb77-15"><a href="#cb77-15"></a><span class="cf">for</span>(n <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>m){</span>
<span id="cb77-16"><a href="#cb77-16"></a>  s_n[n] <span class="ot">&lt;-</span> <span class="fu">compute_s_n</span>(n)</span>
<span id="cb77-17"><a href="#cb77-17"></a>}</span>
<span id="cb77-18"><a href="#cb77-18"></a></span>
<span id="cb77-19"><a href="#cb77-19"></a><span class="co"># creating a plot for our summation function</span></span>
<span id="cb77-20"><a href="#cb77-20"></a>n <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>m</span>
<span id="cb77-21"><a href="#cb77-21"></a><span class="fu">plot</span>(n, s_n)</span>
<span id="cb77-22"><a href="#cb77-22"></a></span>
<span id="cb77-23"><a href="#cb77-23"></a><span class="co"># a table of values comparing our function to the summation formula</span></span>
<span id="cb77-24"><a href="#cb77-24"></a><span class="fu">head</span>(<span class="fu">data.frame</span>(<span class="at">s_n =</span> s_n, <span class="at">formula =</span> n<span class="sc">*</span>(n<span class="sc">+</span><span class="dv">1</span>)<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb77-25"><a href="#cb77-25"></a></span>
<span id="cb77-26"><a href="#cb77-26"></a><span class="co"># overlaying our function with the summation formula</span></span>
<span id="cb77-27"><a href="#cb77-27"></a><span class="fu">plot</span>(n, s_n)</span>
<span id="cb77-28"><a href="#cb77-28"></a><span class="fu">lines</span>(n, n<span class="sc">*</span>(n<span class="sc">+</span><span class="dv">1</span>)<span class="sc">/</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{semba2024,
  author = {Semba, Masumbuko},
  title = {The Basics of {R} Programming},
  date = {2024-01-24},
  url = {https://lugoga.github.io/kitaa/posts/rbasics/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-semba2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Semba, M., 2024. The basics of R programming [WWW Document]. URL <a href="https://lugoga.github.io/kitaa/posts/rbasics/">https://lugoga.github.io/kitaa/posts/rbasics/</a>
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="lugoga/kitaa" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>©2024 <a href="../../posts/rbasics/index.html">Datika</a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../faq.html">
<p>FAQ</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../feedback.html">
<p>Feedback</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../license.html">
<p>License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../terms.html">
<p>Terms</p>
</a>
  </li>  
</ul>
    <div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>