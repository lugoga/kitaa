{
  "hash": "a95c281c252e610c9b7de7c82afb0d2f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Creating a Timeline graphic using R and ggplot2\"\ndescription: \"Creating a timeline graphic using ggplot2, which is a powerful data visualization library in R\"\nauthor: \n  - name: Masumbuko Semba\n    url: https://semba.netlify.app\n    orcid: 0000-0002-5002-9747\n    affiliation: Nelson Mandela African Institution of Science and Technology\n    affiliation-url: https://semba.netlify.app/  \ncitation: \n    url: https://lugoga.github.io/kitaa/posts/timeline/\nbibliography: ../blog.bib\ncsl:  ../elsevier.csl\ndate: \"2023-11-24\"\ndate-modified: \"2023-12-24\"\ncategories: [visualization, code, analysis]\nimage: \"milestone_timeline-01.png\"\nexecute: \n  warning: false\n  message: false\n  comment: \"\"\n---\n\n\n\n\n\n\nIn this post weâ€™re going to be using R and ggplot2 to create a project timeline with milestones and milestone statuses.\n\nThe finished product will look like as illustrated in @fig-milestone\n\n![A timeline of the Milestone for learning Modern](milestone_timeline-01.png){#fig-milestone}\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrequire(tidyverse)\nrequire(lubridate)\nrequire(scales)\nrequire(ggrepel)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(182)\n\nasuta = tibble(\n  milestone = c(\"kick-off\\nmeeting\", \"Community\\nOutreach and\\nEngagement\", \"Inception\\nand Annexes\", \"Intervention\\nStrategy 2.0\", \"Fisheries\\npatterns\", \"Progress\\nReport 1.0\", \"MEET\\nReport\", \"Community\\nProfile\", \"Resource \\nandClimate\\n\",\"GBV\\ntraining\", \"Intervention\\nStrategy 3.0\", \"Financing\\nAccess\", \"Climate change\\nAdaptation\", \"Progress\\nReport 2.0\"),\n  date = c(100424, 300424, 100524, 200524, 300524, 080624, 300624, 150724,030824, 310724,180824, 200824, 310824, 100924),\n   direction = rep(c(1,-1), times = 7),\n  status = c(\"Implementing\", \"Implementing\", \"Reporting\", \"Strategy\", \"Implementing\",\"Reporting\", \"Reporting\", \"Reporting\",\n  \"Implementing\", \"Reporting\", \"Strategy\", \"Reporting\", \"Reporting\", \"Reporting\")\n) |> \n  mutate(\n   date = dmy(date),\n    position =abs(rnorm(n = 14, mean = .15, sd = .08))  * direction,\n    text_position =  if_else(position >= 0, position + 0.08, position - 0.08)\n    ) |> \n  mutate(\n    milestone = paste0(\"Milestone-\", 1:14,\"\\n\", milestone)\n  ) |> \n  arrange(date)\n\ndate_range = asuta |> pull(date) |> range()\n\nasuta.week = tibble(\n  daily = seq(date_range[1], date_range[2], by = \"5 day\")\n) |> \n  mutate(\n    day = day(daily),\n    month = month(daily, label = T),\n    year = year(daily)\n    )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_hline(yintercept = 0)+\n  geom_segment(data = asuta, aes(x = date, y = 0, yend = position, color = status))+\n  geom_point(data = asuta, aes(x = date, y = position, color = status),size = 3) +\n  geom_text(data = asuta, aes(x = date, y = text_position, label = milestone, color = status), size = 3)+\n  scale_x_date(expand = expansion(mult = 0.08))+\n  theme_minimal()+\n  theme(\n    axis.title = element_blank(), \n    axis.text = element_blank(), \n    axis.ticks = element_blank(), \n    panel.background = element_blank(),\n    panel.grid = element_blank(), \n    legend.position = \"top\",\n    legend.title = element_blank(),\n    legend.background = element_blank()\n    ) +\n  geom_text(data = asuta.week, aes(x = daily, y = -0.02, label = day), size = 2.5, color = \"gray50\")+\n  geom_text(data = asuta.week |> distinct(month, .keep_all = TRUE), aes(x = daily, y = -0.05, label = month), fontface = \"bold\", color = \"grey20\", size = 3)+\n   geom_text(data = asuta.week |> distinct(month, .keep_all = TRUE) |> slice(1) , aes(x = daily, y = -0.09, label = year), color = \"black\", size = 3.5)+\n  ggsci::scale_color_d3(limits = c(\"Implementing\", \"Strategy\", \"Reporting\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=768}\n:::\n\n```{.r .cell-code}\n# ggsave(\"milestone_timeline.pdf\", width = 8, height = 4, dpi = 300)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nasuta = asuta |> \n  mutate(date = date+days(19))\n\ndate_range = asuta |> pull(date) |> range()\n\n\nasuta.week = tibble(\n  daily = seq(date_range[1], date_range[2], by = \"5 day\")\n) |> \n  mutate(\n    day = day(daily),\n    month = month(daily, label = T),\n    year = year(daily)\n    )\n\n\nggplot()+\n  geom_hline(yintercept = 0)+\n  geom_segment(data = asuta, aes(x = date, y = 0, yend = position, color = status))+\n  geom_point(data = asuta, aes(x = date, y = position, color = status),size = 3) +\n  geom_text(data = asuta, aes(x = date, y = text_position, label = milestone, color = status), size = 3)+\n  scale_x_date(expand = expansion(mult = 0.08))+\n  theme_minimal()+\n  theme(\n    axis.title = element_blank(), \n    axis.text = element_blank(), \n    axis.ticks = element_blank(), \n    panel.background = element_blank(),\n    panel.grid = element_blank(), \n    legend.position = \"top\",\n    legend.title = element_blank(),\n    legend.background = element_blank()\n    ) +\n  geom_text(data = asuta.week, aes(x = daily, y = -0.02, label = day), size = 2.5, color = \"gray50\")+\n  geom_text(data = asuta.week |> distinct(month, .keep_all = TRUE), aes(x = daily, y = -0.05, label = month), fontface = \"bold\", color = \"grey20\", size = 3)+\n   geom_text(data = asuta.week |> distinct(month, .keep_all = TRUE) |> slice(1) , aes(x = daily, y = -0.09, label = year), color = \"black\", size = 3.5)+\n  ggsci::scale_color_lancet(limits = c(\"Implementing\", \"Strategy\", \"Reporting\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=768}\n:::\n\n```{.r .cell-code}\ntoday()+days(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"2024-05-17\"\n```\n\n\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}